# OctaTrack Sample chain Manager CLI a.k.a. `ot-sm`

Sample management for the [Elektron Octatrack DPS-1](https://www.elektron.se/en/octratrack-mkii-explorer) seqeuncer based sampler. 

TL;DR -- CLI / YAML config based sample chain creation instead of doing everything in a GUI application (e.g. DigiChain, Octachainer), 
because GUI applications are a pain when you need to create 50+ sample chains in one go. 

Only tested against the latest version of the Octatrack OS 1.40B (?).

**NOTE**: This is mostly a **learning** project for me to mess around and get to grips with Rust. 
**DO NOT EXPECT HIGH QUALITY RUST CODE HERE**.

### What this software aims to do

Doing sample preperation work for the Octatrack in a **more automated manner**. The main goals are:

1. `ot-sm chains yaml`: Create multiple 'sliced' sample chains simultaneously via a single YAML config.
2. `ot-sm scan samples`: Scan a local directory and output a list of compatible audio files to a YAML file (copy paste YAML into the sample chain config for `ot-sm chains yaml`).

Additional commands I'm thinking about:

1. `ot-sm ot-file`: Create an `.ot` asample attributes file for existing Octatrack samples (super simplified version of `ot-sm chain yaml` for a single existing sample).
2. `ot-sm chain cli`: Create a 'sliced' sample chain from individual audio files via CLI args (`ot-sm chain yaml` without the YAML).
3. `ot-sm scan sets`: Generate a YAML representation of an Octatrack's Set data, including full Project data like samples currently assigned in samples slots (most of the logic is there, needs clean up).
4. `ot-sm push`: (Safely) Copy files from a local computer to a Compact Flash card.

Longer term ideas / features / thoughts also include the following, but they aren't a priority / are me throwing ideas at the wall to see what sticks.
- Split core data structures / data parsing into a publicly available library.
- Cross-platform (currently linux only).
- Make `ot-sm scan samples` write sample file metadata to a central database, then use that database to create sample chains (and add a record of sample chains to the same database).
- Actually make the rust code idiomatic and 'clean'.
- GUI application so people do not need to use YAML files.
- Determine if a sample chain file is already used in a project (via scanning `project.strd` files)
  and block editing of a sample chain, or only allow editing after providing an explicit warning.
- Bulk project sample file consolidation (consolidate samples into a Set's Audio Pool for all of a Set's Projects)
- Pull and **push** sync, so that everything can be done offline, without the CF card to hand.
- Git-like versioning.
- Minor sample editing (normalisation, fades, reverses, etc).
- Combinatorial drum pattern chain generator (probably a separate / standalone project).
- PyO3 bindings for creating a python interface.
- Fully reverse engineered `bank.*` files, added to the `ot-sm scan sets` command for dumping out the state of a project.
- `ot-sm modify set`: Take a yaml config generated by `ot-sm scan sets`, make manual changes to the YAML then push those changes back to the set.
- Inspect differences between `*.strd` and `*.work` files (i'm 90% sure the `*.strd` files are the previous versions used during restoring a project to previous state, might be the other way around)


### What this software is not
- A clone of DigiChain
- A clone of OctaEdit (whereforartthou Rusty :sad:)

